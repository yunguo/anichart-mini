# Change Log

## ver 2.4.4 [2021-09-24]

**修复**

- 修复了柱状图初始值为NaN会显示的问题。

## ver 2.4.3 [2021-09-15]

**修复**

- 修复了图表无参构造部分属性初始化错误的问题。
- 修复了柱状图时间标签选项覆盖错误的问题。

## ver 2.4.2 [2021-08-14]

**修复**

- 修复了一个导致多重柱状图 y 轴坐标计算错误的问题。

**美化**

- 添加了一个配置项 clipBar，可以指定柱状图上的信息能否能够超出柱条。

## ver 2.4.1 [2021-08-13]

优化了插值算法的效率以及表现。优化了柱状条的层叠次序。修复了一个导致图表表现不一致的问题。

**修复**

- 取消了删除重复值的优化项。这个优化项会导致图表表现的不一致。

**美化**

- 优化了插值位置，使得在使用非 NaN 默认值时，会保留过渡效果。
- 优化了柱状图的层叠次序，现在上升的条目比下降的条目靠前。

## ver 2.4.0 [2021-08-12]

添加了一个控制器。现在可以通过控制器来手动控制播放进度了。控制器本体能够进行拖拽。控制器包括一个进度条的展示和一个播放按钮。

优化了柱状图的卷积计算。卷积计算用于计算条目 y 轴坐标。之前的卷积计算是播放时预处理的。使用了节省内存的算法，但其实并没有什么意义。同时不利于控制器在播放时计算进度。

新的算法预计算了全部卷积结果，并保存在内存中。提高了播放流畅性。

**功能**

- 添加控制器功能
- 控制器可以显示并调整播放进度
- 在拖动播放进度时可以实时渲染

**修复**

- 修复了多个可能导致组件被重复 Setup 的问题

## ver 2.3.1 [2021-08-09]

**修复**

- 修复了必须要引入 canvas 库作为依赖的问题
- 修复了在没有 options 的情况下，默认的柱状图会报未定义的问题

## ver 2.3.0 [2021-08-07]

由于浏览器安全策略的更新，原有的视频导出模块无法使用。该模块已经进行更新，但是调用方如果使用了导出视频的功能，仍然需要修改一部分源代码。

[阅读这里了解更多信息。](https://developer.chrome.com/blog/enabling-shared-array-buffer/#origin-trial)

**功能**

- 添加了自定义柱状图横轴 domain 的选项。

**修复**

- 兼容浏览器安全策略
- 修复了柱状图 barInfoFormat 无法获取到 data 的问题
- 修复了自动添加 NaN 的逻辑

**美化**

- 在默认 color scheme 中把纯白色(#FFF)改为了紫色(#569)

## ver 2.2.1 [2021-07-15]

**杂项**

- 更新了类型说明文件

## ver 2.2.0 [2021-07-15]

**特性**

- 添加了对非标准日期的支持
- 添加了多列柱状图的支持
- 添加了显示柱状图排名的选项

**样式**

- 美化了柱状图的对齐
- 添加了柱状图消失时的淡出动画

**优化**

- 现在可以自定义柱状图日期标签的样式了

**杂项**

- 更新了文档
- 添加了英文版文档

## ver 2.1.1 [2021-03-31]

- 移除了一些 Console 输出。

## ver 2.1.0 [2021-03-31]

- 添加了 Nodejs 环境的支持。

## ver 2.0.2

- 添加了柱状图坐标轴范围的选项
- 柱状图现在可以指定出、入时的数据值
- 添加了地图的地区名标签支持
- 添加了地图土块默认背景的花纹支持

## ver 2.0.1

### 修复

- 修复编译选项，使得能够在 Code Sandbox 等线上环境中使用带有类型推断的 Typescript 环境。

## ver 2.0.0

### 特性

**项目**

- 全面使用 Typescript 进行重构。
- 添加了地图图表的支持。
- 添加了自定义动画器的支持。
- 优化项目结构，分离渲染器和数据计算。

**图表**

- 优化柱状图 Label 宽度的计算方式。
- 优化了柱状图的计算效率。
- 添加了饼图的基本支持。
- 添加了地区地图以及世界地图的基本支持。
- 优化了曲线图的计算效率。

**组件**

- 添加了进度条的组件。
- 添加了自定义动画器。
- 添加了缩放、淡入动画包装器。
